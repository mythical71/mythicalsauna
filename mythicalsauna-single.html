<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Sauna Breathing</title>
  <meta name="theme-color" content="#0f172a" />
  <link rel="icon" sizes="192x192" href="data:image/png;base64,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">
  <link rel="icon" sizes="512x512" href="data:image/png;base64,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">
  <style>
    :root{{ --bg:#0b1020; --card:#121a33; --accent:#22d3ee; --accent2:#a78bfa; --text:#e6f0ff; --muted:#90a4c8; --good:#34d399; --warn:#f59e0b; --bad:#ef4444; --progress:0%; }}
    *{{box-sizing:border-box}} html,body{{height:100%}} body{{margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji"; color:var(--text); background: radial-gradient(1200px 800px at 80% -20%, #1e293b 0%, transparent 50%), radial-gradient(900px 600px at -10% 120%, #111827 0%, transparent 50%), var(--bg);}}
    .app{{max-width:900px; margin:0 auto; padding:16px; padding-bottom:124px}} header{{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 0}}
    header h1{{font-size:22px; margin:0; letter-spacing:.5px}} header .actions{{display:flex; gap:8px}}
    button,.btn{{appearance:none; border:0; background:linear-gradient(180deg,#1f2a4a,#10162b); color:var(--text); padding:10px 14px; border-radius:12px; font-weight:600; cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.06);}}
    button:disabled{{opacity:.55; cursor:not-allowed}} .btn-ghost{{background:transparent; border:1px solid rgba(255,255,255,.12)}}
    .grid{{display:grid; gap:12px}} .card{{background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:14px; box-shadow:0 20px 40px rgba(0,0,0,.25)}}
    .row{{display:flex; align-items:center; justify-content:space-between; gap:12px}} .label{{font-size:12px; color:var(--muted); letter-spacing:.3px}} .value{{font-weight:700}}
    input[type="range"]{{width:100%}} input[type="number"]{{width:90px; padding:8px; border-radius:8px; border:1px solid rgba(255,255,255,.15); background:rgba(255,255,255,.06); color:var(--text)}}
    .circle-wrap{{display:grid; place-items:center; margin:18px 0}} .circle{{width:min(80vw,420px); height:min(80vw,420px); border-radius:50%; background: radial-gradient(closest-side, rgba(34,211,238,.25), rgba(167,139,250,.12) 60%, transparent 61%), conic-gradient(from 270deg, var(--accent) var(--progress), rgba(255,255,255,.06) 0%); display:grid; place-items:center; position:relative; transition:filter .3s ease; box-shadow: 0 0 0 1px rgba(255,255,255,.08), 0 12px 60px rgba(34,211,238,.15), inset 0 0 80px rgba(167,139,250,.12);}}
    .circle-inner{{width:85%; height:85%; border-radius:50%; background: radial-gradient(120% 100% at 50% 0%, rgba(167,139,250,.16), rgba(34,211,238,.08)); display:grid; place-items:center; text-align:center; padding:12px;}}
    .phase{{font-size:14px; color:var(--muted); letter-spacing:.25px}} .count{{font-size:56px; font-weight:900; line-height:1.05}} .hint{{font-size:12px; color:var(--muted)}}
    .chips{{display:flex; flex-wrap:wrap; gap:8px}} .chip{{padding:8px 12px; border-radius:999px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.1); cursor:pointer; font-weight:600}} .chip.active{{outline:2px solid var(--accent)}}
    .twocol{{display:grid; grid-template-columns:1fr 1fr; gap:12px}} .footer{{position:fixed; bottom:0; left:0; right:0; backdrop-filter: blur(10px); background:linear-gradient(180deg, rgba(2,6,23,0), rgba(2,6,23,.85)); padding:12px 16px; border-top:1px solid rgba(255,255,255,.08)}}
    .grow{{flex:1}} .small{{font-size:12px}} .hidden{{display:none}} .danger{{background:linear-gradient(180deg,#3b1111,#220b0b); border:1px solid rgba(255,255,255,.06)}} .accent{{background:linear-gradient(180deg,#164e63,#0b3742)}} .timer-pill{{font-variant-numeric:tabular-nums; padding:6px 10px; border-radius:999px; background:rgba(20,184,166,.12); border:1px solid rgba(20,184,166,.35)}}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>🧖 Sauna Breathing</h1>
      <div class="actions">
        <span id="timerStatus" class="timer-pill hidden">⏱ <strong id="timerMMSS">00:00</strong> <span id="timerSet">(Set 0/0)</span></span>
        <button id="btnFullscreen" class="btn-ghost" title="Fullscreen">⤢</button>
        <button id="btnWakeLock" class="btn-ghost" title="Keep Screen Awake">🔆</button>
        <button id="btnInstall" class="btn-ghost" title="Add to Home Screen" hidden>⬇️ Install</button>
      </div>
    </header>

    <section class="card circle-wrap">
      <div class="circle" id="circle">
        <div class="circle-inner">
          <div class="phase" id="phase">Ready</div>
          <div class="count" id="counter">0</div>
          <div class="hint" id="roundsHint">Rounds: 0 • Cycle: 0</div>
        </div>
      </div>
    </section>

    <section class="grid">
      <div class="card">
        <div class="chips" id="presets">
          <div class="chip" data-preset='{{"name":"Box 4-4-4-4","inhale":4,"hold1":4,"exhale":4,"hold2":4}}'>Box 4‑4‑4‑4</div>
          <div class="chip" data-preset='{{"name":"4‑7‑8","inhale":4,"hold1":7,"exhale":8,"hold2":0}}'>4‑7‑8</div>
          <div class="chip" data-preset='{{"name":"Sauna Calm","inhale":5,"hold1":0,"exhale":7,"hold2":0}}'>Sauna Calm</div>
          <div class="chip" data-preset='{{"name":"Wim Hof (guided)","inhale":2,"hold1":0,"exhale":2,"hold2":0,"cycles":30,"holdAfter":60}}'>Wim Hof (guided)</div>
          <div class="chip" data-preset='{{"name":"Custom"}}'>Custom</div>
        </div>
      </div>

      <div class="card grid">
        <div class="row"><span class="label">Inhale (sec)</span><span class="value" id="vIn">5</span></div>
        <input class="range" id="rIn" type="range" min="1" max="12" value="5" />
        <div class="row"><span class="label">Hold after inhale (sec)</span><span class="value" id="vH1">0</span></div>
        <input class="range" id="rH1" type="range" min="0" max="20" value="0" />
        <div class="row"><span class="label">Exhale (sec)</span><span class="value" id="vEx">7</span></div>
        <input class="range" id="rEx" type="range" min="2" max="20" value="7" />
        <div class="row"><span class="label">Hold after exhale (sec)</span><span class="value" id="vH2">0</span></div>
        <input class="range" id="rH2" type="range" min="0" max="20" value="0" />
        <div class="row">
          <label class="label">Cycles per round</label>
          <input id="cycles" type="number" min="1" max="120" value="12"/>
          <label class="label">Rounds</label>
          <input id="rounds" type="number" min="1" max="20" value="3"/>
        </div>
      </div>

      <div class="twocol">
        <div class="card grid">
          <div class="row"><span class="label">Ambient sound</span><label><input id="chkAmbient" type="checkbox" checked> On</label></div>
          <div class="row"><span class="label">Ambient volume</span><input id="volAmbient" type="range" min="0" max="1" step="0.01" value="0.25" class="range"></div>
          <div class="row"><span class="label">Cue beeps</span><label><input id="chkBeeps" type="checkbox" checked> On</label></div>
          <div class="row"><span class="label">Voice counts</span><label><input id="chkVoice" type="checkbox"> On</label></div>
          <div class="row"><span class="label">Vibrate on phase</span><label><input id="chkVibrate" type="checkbox" checked> On</label></div>
        </div>
        <div class="card grid">
          <div class="row"><span class="label">Countdown style</span>
            <div>
              <label><input type="radio" name="style" value="numbers" checked> Numbers</label>
              <label style="margin-left:10px"><input type="radio" name="style" value="bar"> Ring</label>
            </div>
          </div>
          <div class="row"><span class="label">Theme glow</span><input id="glow" type="range" min="0" max="1" step="0.01" value="0.25" class="range"></div>
          <div class="row"><span class="label">Show safety tip</span><label><input id="chkSafety" type="checkbox" checked> On</label></div>
        </div>
      </div>

      <div class="card">
        <h3 style="margin:6px 0 12px 0">⏱ Sauna Timer</h3>
        <div class="row" style="flex-wrap:wrap; gap:12px">
          <div><span class="label">Duration (min)</span><br><input id="timerMinutes" type="number" min="1" max="60" value="12"></div>
          <div><span class="label">Sets</span><br><input id="timerSets" type="number" min="1" max="20" value="3"></div>
          <div><span class="label">Rest between (min)</span><br><input id="timerRest" type="number" min="0" max="20" value="2"></div>
          <div class="row" style="gap:8px; margin-left:auto">
            <button id="btnTimerStart" class="accent">Start Timer</button>
            <button id="btnTimerPause" disabled>Pause</button>
            <button id="btnTimerStop" class="danger" disabled>Stop</button>
          </div>
        </div>
        <div class="small" style="margin-top:8px; color:var(--muted)">Timer runs independently so you can breathe with guidance while it counts your sauna set. You’ll hear a chime at each stage.</div>
      </div>

      <div id="safety" class="card"><strong>Safety:</strong> Sit down between sauna benches and avoid breath-holds if you feel light‑headed. Never use this app while driving.</div>
    </section>
  </div>

  <div class="footer row">
    <div class="row grow" style="gap:8px">
      <button id="btnStart" class="accent">▶ Start</button>
      <button id="btnPause" disabled>⏸️ Pause</button>
      <button id="btnStop" class="danger" disabled>■ Stop</button>
    </div>
    <div class="row" style="gap:8px">
      <button id="btnReset" class="btn-ghost">Reset</button>
      <button id="btnBig" class="btn-ghost" title="Big numbers">🔍</button>
    </div>
  </div>

  <script>
  // Create manifest dynamically so this stays single-file and installable
  (function() {{
    const manifest = {{
      name: "Sauna Breathing",
      short_name: "Sauna",
      start_url: ".",
      display: "standalone",
      background_color: "#0b1020",
      theme_color: "#0f172a",
      icons: [
        {{ src: "data:image/png;base64,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", sizes: "192x192", type: "image/png" }},
        {{ src: "data:image/png;base64,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", sizes: "512x512", type: "image/png" }}
      ]
    }};
    const blob = new Blob([JSON.stringify(manifest)], {{type: "application/manifest+json"}});
    const url = URL.createObjectURL(blob);
    const link = document.createElement("link");
    link.rel = "manifest";
    link.href = url;
    document.head.appendChild(link);
  }})();
  </script>

  <script>
  // --- Shortcuts ---
  const els = {{
    circle: q('#circle'), counter: q('#counter'), phase: q('#phase'), roundsHint: q('#roundsHint'),
    rIn: q('#rIn'), rH1: q('#rH1'), rEx: q('#rEx'), rH2: q('#rH2'), vIn: q('#vIn'), vH1: q('#vH1'), vEx: q('#vEx'), vH2: q('#vH2'),
    cycles: q('#cycles'), rounds: q('#rounds'),
    btnStart: q('#btnStart'), btnPause: q('#btnPause'), btnStop: q('#btnStop'), btnReset: q('#btnReset'),
    btnFullscreen: q('#btnFullscreen'), btnWakeLock: q('#btnWakeLock'), btnInstall: q('#btnInstall'), btnBig: q('#btnBig'),
    chkAmbient: q('#chkAmbient'), volAmbient: q('#volAmbient'), chkBeeps: q('#chkBeeps'), chkVibrate: q('#chkVibrate'), chkVoice: q('#chkVoice'),
    glow: q('#glow'), safety: q('#safety'), chkSafety: q('#chkSafety'),
    // Timer
    timerMinutes: q('#timerMinutes'), timerSets: q('#timerSets'), timerRest: q('#timerRest'),
    btnTimerStart: q('#btnTimerStart'), btnTimerPause: q('#btnTimerPause'), btnTimerStop: q('#btnTimerStop'),
    timerStatus: q('#timerStatus'), timerMMSS: q('#timerMMSS'), timerSet: q('#timerSet')
  }};

  let running=false, paused=false, loopHandle=null, round=0, cycle=0, phaseIndex=0, phaseTimeLeft=0, style='numbers';
  let wakeLock=null, deferredPrompt=null, big=false;

  const phasesBase=[{{key:'inhale',label:'Inhale'}},{{key:'hold1',label:'Hold'}},{{key:'exhale',label:'Exhale'}},{{key:'hold2',label:'Hold'}}];

  const voice={{enabled:false,say(txt){{ if(!this.enabled) return; try{{ const u=new SpeechSynthesisUtterance(txt); u.rate=0.95; speechSynthesis.speak(u);}}catch(e){{}} }}}}

  // --- Audio (ambient + beeps + chime) ---
  const audio={{ctx:null, master:null, pads:[], beepOsc:null, beepGain:null, chimeOsc:null, chimeGain:null,
    init(){{ if(this.ctx) return; this.ctx=new (window.AudioContext||window.webkitAudioContext)(); this.master=this.ctx.createGain(); this.master.gain.value=+els.volAmbient.value; this.master.connect(this.ctx.destination);
      const notes=[174.61,220.00,261.63]; const lfo=this.ctx.createOscillator(); const lfoGain=this.ctx.createGain(); lfo.frequency.value=0.06; lfoGain.gain.value=0.25; lfo.connect(lfoGain);
      notes.forEach((f,i)=>{{ const o=this.ctx.createOscillator(); const g=this.ctx.createGain(); o.type='sine'; o.frequency.value=f; o.detune.value=(i-1)*6; g.gain.value=0.08; o.connect(g); g.connect(this.master); lfoGain.connect(g.gain); o.start(); this.pads.push({{o,g}}); }}); lfo.start();
      this.beepOsc=this.ctx.createOscillator(); this.beepGain=this.ctx.createGain(); this.beepOsc.type='sine'; this.beepOsc.frequency.value=880; this.beepGain.gain.value=0; this.beepOsc.connect(this.beepGain); this.beepGain.connect(this.ctx.destination); this.beepOsc.start();
      this.chimeOsc=this.ctx.createOscillator(); this.chimeGain=this.ctx.createGain(); this.chimeOsc.type='triangle'; this.chimeOsc.frequency.value=660; this.chimeGain.gain.value=0; this.chimeOsc.connect(this.chimeGain); this.chimeGain.connect(this.ctx.destination); this.chimeOsc.start();
    }},
    setAmbient(on){{ if(!this.ctx) return; this.master.gain.value=on? +els.volAmbient.value:0; }}, setAmbientVol(v){{ if(!this.ctx) return; this.master.gain.value=+v; }},
    beep(){{ if(!els.chkBeeps.checked||!this.ctx) return; const now=this.ctx.currentTime; this.beepOsc.frequency.setValueAtTime(1200,now); this.beepGain.gain.cancelScheduledValues(now); this.beepGain.gain.setValueAtTime(0.0001,now); this.beepGain.gain.exponentialRampToValueAtTime(0.25,now+0.01); this.beepGain.gain.exponentialRampToValueAtTime(0.0001,now+0.18); }},
    chime(){{ if(!this.ctx) return; const now=this.ctx.currentTime; this.chimeOsc.frequency.setValueAtTime(660,now); this.chimeOsc.frequency.exponentialRampToValueAtTime(440,now+1.2); this.chimeGain.gain.cancelScheduledValues(now); this.chimeGain.gain.setValueAtTime(0.0001,now); this.chimeGain.gain.exponentialRampToValueAtTime(0.35,now+0.02); this.chimeGain.gain.exponentialRampToValueAtTime(0.0001,now+1.4); }}
  }};

  function q(s,el=document){{ return el.querySelector(s); }}
  function sleep(ms){{ return new Promise(r=>setTimeout(r,ms)); }}
  function vibrate(ms){{ if(els.chkVibrate.checked && navigator.vibrate) navigator.vibrate(ms); }}
  function updateVals(){{ els.vIn.textContent=els.rIn.value; els.vH1.textContent=els.rH1.value; els.vEx.textContent=els.rEx.value; els.vH2.textContent=els.rH2.value; document.documentElement.style.setProperty('--progress','0%'); }}

  // Presets
  q('#presets').addEventListener('click', e=>{{ const chip=e.target.closest('.chip'); if(!chip) return; [...q('#presets').children].forEach(c=>c.classList.remove('active')); chip.classList.add('active'); const p=JSON.parse(chip.dataset.preset); if(p.name==='Custom') return; if(p.inhale!=null) els.rIn.value=p.inhale; if(p.hold1!=null) els.rH1.value=p.hold1; if(p.exhale!=null) els.rEx.value=p.exhale; if(p.hold2!=null) els.rH2.value=p.hold2; if(p.cycles) els.cycles.value=p.cycles; if(p.holdAfter) window._holdAfter=p.holdAfter; else window._holdAfter=null; updateVals(); }});

  // UI bindings
  [els.rIn,els.rH1,els.rEx,els.rH2].forEach(r=>r.addEventListener('input', updateVals));
  els.volAmbient.addEventListener('input', e=>audio.setAmbientVol(e.target.value));
  els.chkAmbient.addEventListener('change', e=>audio.setAmbient(e.target.checked));
  els.chkSafety.addEventListener('change', ()=>els.safety.style.display=els.chkSafety.checked?'block':'none');
  els.glow.addEventListener('input', e=>{{ els.circle.style.filter=`drop-shadow(0 0 ${{e.target.value*60}}px rgba(34,211,238,.6))`; }});
  document.querySelectorAll('input[name="style"]').forEach(r=>r.addEventListener('change', e=>{{ style=e.target.value; }}));
  els.chkVoice.addEventListener('change', ()=>{{ voice.enabled=els.chkVoice.checked; }});

  // Controls
  els.btnStart.addEventListener('click', start);
  els.btnPause.addEventListener('click', togglePause);
  els.btnStop.addEventListener('click', stop);
  els.btnReset.addEventListener('click', ()=>{{ if(running) return; round=0; cycle=0; phaseIndex=0; phaseTimeLeft=0; updateScreen('Ready',0); }});
  els.btnBig.addEventListener('click', ()=>{{ big=!big; els.counter.style.fontSize=big?'92px':'56px'; }});

  // Fullscreen
  els.btnFullscreen.addEventListener('click', ()=>{{ const el=document.documentElement; if(!document.fullscreenElement){{ el.requestFullscreen?.(); }} else {{ document.exitFullscreen?.(); }}});

  // Wake lock
  els.btnWakeLock.addEventListener('click', async ()=>{{ try{{ if(!wakeLock){{ wakeLock=await navigator.wakeLock.request('screen'); els.btnWakeLock.textContent='🔒'; wakeLock.addEventListener('release',()=>{{ els.btnWakeLock.textContent='🔆'; wakeLock=null; }}); }} else {{ wakeLock.release?.(); }} }}catch(e){{ alert('Wake Lock not supported on this device'); }} }});

  // Install prompt
  window.addEventListener('beforeinstallprompt',(e)=>{{ e.preventDefault(); deferredPrompt=e; els.btnInstall.hidden=false; }});
  els.btnInstall.addEventListener('click', async ()=>{{ if(!deferredPrompt) return; deferredPrompt.prompt(); const {{outcome}}=await deferredPrompt.userChoice; if(outcome==='accepted'){{ els.btnInstall.hidden=true; }} deferredPrompt=null; }});

  function totalPhaseSeconds(){{ const arr=[+els.rIn.value,+els.rH1.value,+els.rEx.value,+els.rH2.value]; return arr.map((v,i)=>({{dur:v,...phasesBase[i]}})).filter(p=>p.dur>0||p.key==='inhale'||p.key==='exhale'); }}

  async function start(){{ if(running){{ return; }} try{{ audio.init(); audio.setAmbient(els.chkAmbient.checked); voice.enabled=els.chkVoice.checked; }}catch(e){{}}
    running=true; paused=false; els.btnStart.disabled=true; els.btnPause.disabled=false; els.btnStop.disabled=false;
    round=1; cycle=1; phaseIndex=0; phaseTimeLeft=totalPhaseSeconds()[0].dur; updateHUD(); loop(); if('mediaSession' in navigator){{ navigator.mediaSession.metadata=new MediaMetadata({{title:'Sauna Breathing',artist:'Guided',album:'Ambient',artwork:[]}}); navigator.mediaSession.setActionHandler('play',()=>{{ if(!running) start(); else if(paused) togglePause(); }}); navigator.mediaSession.setActionHandler('pause',()=>{{ if(running && !paused) togglePause(); }}); }}
  }}

  function loop(){{ if(!running) return; const seq=totalPhaseSeconds(); const phase=seq[phaseIndex % seq.length]; if(!paused){{ phaseTimeLeft-=0.1; updateScreen(phase.label, Math.max(0, Math.ceil(phaseTimeLeft))); progressUpdate(phase); if(phaseTimeLeft<=0){{ nextPhase(seq); }} }} loopHandle=setTimeout(loop,100); }}

  function nextPhase(seq){{ audio.beep(); vibrate(30); phaseIndex++; if(phaseIndex % seq.length===0){{ cycle++; if(cycle>+els.cycles.value){{ round++; if(round>+els.rounds.value){{ if(window._holdAfter){{ holdPhase(window._holdAfter); window._holdAfter=null; return; }} return stop(); }} cycle=1; }} }} const next=seq[phaseIndex % seq.length]; phaseTimeLeft=next.dur; if(voice.enabled){{ voice.say(next.label); }} }}

  async function holdPhase(seconds){{ const label='Long hold'; updateScreen(label,seconds); if(voice.enabled){{ voice.say('Long hold'); }} while(seconds>0 && running && !paused){{ await sleep(1000); seconds--; updateScreen(label,seconds); }} stop(); }}

  function togglePause(){{ paused=!paused; els.btnPause.textContent= paused? '▶ Resume':'⏸️ Pause'; if(!paused){{ loop(); }} }}
  function stop(){{ running=false; paused=false; clearTimeout(loopHandle); updateScreen('Done',0); els.btnStart.disabled=false; els.btnPause.disabled=true; els.btnStop.disabled=true; }}
  function updateHUD(){{ els.roundsHint.textContent=`Rounds: ${{round}} • Cycle: ${{cycle}}`; }}
  function updateScreen(phaseLabel,count){{ els.phase.textContent=phaseLabel; els.counter.textContent=count; updateHUD(); }}
  function progressUpdate(){{ const seq=totalPhaseSeconds(); const total=seq.reduce((a,b)=>a+b.dur,0); const elapsedInCycle=(seq.slice(0, phaseIndex % seq.length).reduce((a,b)=>a+b.dur,0)) + (seq[phaseIndex % seq.length].dur - Math.max(0, phaseTimeLeft)); const pct=Math.max(0, Math.min(100,(elapsedInCycle/total)*100)); document.documentElement.style.setProperty('--progress', pct+'%'); }}

  setInterval(()=>{{ if(!running||paused||!voice.enabled) return; const n=+els.counter.textContent||0; if(n>0&&n<=5){{ voice.say(String(n)); }} }},1000);

  // ===== Independent Sauna Timer =====
  let timerRunning=false, timerPaused=false, timerInterval=null, timerMsLeft=0, timerSetIndex=0, timerMode='work'; // 'work' or 'rest'

  function formatMMSS(ms){{ const s=Math.max(0,Math.ceil(ms/1000)); const m=Math.floor(s/60); const ss=String(s%60).padStart(2,'0'); return `${{String(m).padStart(2,'0')}}:${{ss}}`; }}

  function updateTimerHUD(){{ els.timerMMSS.textContent=formatMMSS(timerMsLeft); const totalSets=+els.timerSets.value; els.timerSet.textContent=`(Set ${{Math.min(timerSetIndex+1,totalSets)}}/${{totalSets}}${{timerMode==='rest'?' • Rest':''}})`; els.timerStatus.classList.remove('hidden'); }}

  function startTimer(){{ if(timerRunning) return; try{{ audio.init(); }}catch(e){{}} timerRunning=true; timerPaused=false; els.btnTimerStart.disabled=true; els.btnTimerPause.disabled=false; els.btnTimerStop.disabled=false; timerMode='work'; timerSetIndex=0; timerMsLeft=+els.timerMinutes.value*60*1000; updateTimerHUD(); tickTimer(); timerInterval=setInterval(tickTimer,200); }}

  function tickTimer(){{ if(!timerRunning||timerPaused) return; timerMsLeft-=200; if(timerMsLeft<=0){{ 
      audio.chime(); vibrate(70);
      if(timerMode==='work'){{ const restMin=+els.timerRest.value; const totalSets=+els.timerSets.value; if(restMin>0){{ timerMode='rest'; timerMsLeft=restMin*60*1000; updateTimerHUD(); return; }} else {{ timerSetIndex++; if(timerSetIndex>=totalSets){{ return stopTimer(); }} timerMode='work'; timerMsLeft=+els.timerMinutes.value*60*1000; updateTimerHUD(); return; }} }}
      else {{ const totalSets=+els.timerSets.value; timerSetIndex++; if(timerSetIndex>=totalSets){{ return stopTimer(); }} timerMode='work'; timerMsLeft=+els.timerMinutes.value*60*1000; }}
    }} updateTimerHUD(); }}

  function pauseTimer(){{ if(!timerRunning) return; timerPaused=!timerPaused; els.btnTimerPause.textContent= timerPaused? 'Resume':'Pause'; }}
  function stopTimer(){{ timerRunning=false; timerPaused=false; clearInterval(timerInterval); els.btnTimerStart.disabled=false; els.btnTimerPause.disabled=true; els.btnTimerStop.disabled=true; els.timerStatus.classList.add('hidden'); }}

  els.btnTimerStart.addEventListener('click', startTimer);
  els.btnTimerPause.addEventListener('click', pauseTimer);
  els.btnTimerStop.addEventListener('click', stopTimer);

  updateVals();

  if('serviceWorker' in navigator){{ 
    const swCode=`self.addEventListener('install',e=>{{e.waitUntil(caches.open('sauna-v1').then(c=>c.addAll(['./'])))}});self.addEventListener('fetch',e=>{{e.respondWith(caches.match(e.request).then(r=>r||fetch(e.request)))}})`;
    const blob = new Blob([swCode], {{type:'text/javascript'}});
    const swUrl = URL.createObjectURL(blob);
    navigator.serviceWorker.register(swUrl).catch(()=>{{}});
  }}

  document.addEventListener('keydown',(e)=>{{ if(e.key===' '){{ e.preventDefault(); if(!running) start(); else togglePause(); }} if(e.key==='Escape'){{ stop(); stopTimer(); }} }});
  </script>
</body>
</html>
